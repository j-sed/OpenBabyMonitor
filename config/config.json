{
    "database": {
        "root_account": {
            "host": "localhost",
            "user": "root",
            "password": "root"
        },
        "account": {
            "host": "localhost",
            "user": "babymonitor",
            "password": ""
        },
        "name": "babymonitor",
        "key": {
            "type": "TINYINT UNSIGNED PRIMARY KEY",
            "value": 0
        }
    },
    "modes": {
        "current": {
            "type": "TINYINT UNSIGNED NOT NULL",
            "initial_value": 0,
            "values": {
                "standby": {
                    "value": 0,
                    "start_command": "sudo systemctl start bm_standby",
                    "stop_command": null,
                    "restart_command": null,
                    "wait_for": null
                },
                "listen": {
                    "value": 1,
                    "start_command": "sudo systemctl start bm_listen",
                    "stop_command": "sudo systemctl stop bm_listen",
                    "restart_command": "sudo systemctl restart bm_listen",
                    "wait_for": null
                },
                "audiostream": {
                    "value": 2,
                    "start_command": "sudo systemctl start bm_audiostream",
                    "stop_command": "sudo systemctl stop bm_audiostream",
                    "restart_command": "sudo systemctl restart bm_audiostream",
                    "wait_for": "file=BM_AUDIO_STREAM_FILE"
                },
                "videostream": {
                    "value": 3,
                    "start_command": "sudo systemctl start bm_videostream",
                    "stop_command": "sudo systemctl stop bm_videostream",
                    "restart_command": "sudo systemctl restart bm_videostream",
                    "wait_for": "file=BM_PICAM_STREAM_FILE"
                }
            }
        }
    },
    "control": {
        "file_query_interval": 1e-2,
        "socket_query_interval": 0.2,
        "mode_switch_timeout": 30.0,
        "server_actions": {
            "commands": {
                "activate_ap_mode": "$BM_SERVERCONTROL_DIR/perform_action.sh activate_ap_mode",
                "activate_client_mode": "$BM_SERVERCONTROL_DIR/perform_action.sh activate_client_mode",
                "reboot": "$BM_SERVERCONTROL_DIR/perform_action.sh reboot",
                "shutdown": "$BM_SERVERCONTROL_DIR/perform_action.sh shutdown",
                "set_timestamp": "$BM_SERVERCONTROL_DIR/perform_action.sh set_timestamp",
                "scan_wireless_networks": "$BM_SERVERCONTROL_DIR/perform_action.sh scan_wireless_networks",
                "connect_to_network": "$BM_SERVERCONTROL_DIR/perform_action.sh connect_to_network",
                "remove_network": "$BM_SERVERCONTROL_DIR/perform_action.sh remove_network"
            }
        },
        "lock_commands": {
            "acquire": "rm -f $BM_MODE_LOCK_FILE",
            "release": "touch $BM_MODE_LOCK_FILE"
        }
    },
    "inference": {
        "labels": {
            "ambient": 0,
            "bad": 1,
            "good": 2
        }
    },
    "network": {
        "network_query_interval": 1e-1,
        "network_switch_timeout": 300.0,
        "connected_network_ssid_script_filename": "get_connected_network_ssid.sh",
        "wireless_modes": {
            "access_point": "Master",
            "client": "Managed"
        }
    },
    "known_networks": {
        "ssid": {
            "type": "VARCHAR(64) PRIMARY KEY"
        }
    },
    "listen_settings": {
        "ask_secure_redirect": {
            "group": "browser_notifications",
            "name": "Spør om å gå til sikker side",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "show_unsupported_message": {
            "group": "browser_notifications",
            "name": "Vis beskjed om manglende støtte",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "ask_notification_permission": {
            "group": "browser_notifications",
            "name": "Spør om tillatelse",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "notify_on_crying": {
            "group": "notify_on",
            "name": "Gråt",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "notify_and_or": {
            "group": "notify_on",
            "type": "VARCHAR(3) NOT NULL",
            "initial_value": "or",
            "radiovalues": {
                "og": "and",
                "eller": "or"
            },
            "children_disabled_when": {
                "notify_on_crying": {
                    "operator": "!=",
                    "value": "1"
                },
                "notify_on_babbling": {
                    "operator": "!=",
                    "value": "1"
                }
            }
        },
        "notify_on_babbling": {
            "group": "notify_on",
            "name": "Babling",
            "type": "BOOLEAN NOT NULL",
            "initial_value": false
        },
        "interval": {
            "group": "notifications",
            "name": "Ventetid mellom opptak (s)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 5,
            "range": {
                "min": 0,
                "max": 60,
                "step": 1
            }
        },
        "fraction_threshold": {
            "group": "notifications",
            "name": "Varsle når en andel på (%)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 60,
            "range": {
                "min": 0,
                "max": 100,
                "step": 1
            }
        },
        "consecutive_recordings": {
            "group": "notifications",
            "name": "av de siste (antall) opptak",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 5,
            "range": {
                "min": 1,
                "max": 20,
                "step": 1
            }
        },
        "probability_threshold": {
            "group": "notifications",
            "name": "slår ut med sikkerhet over (%)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 85,
            "range": {
                "min": 0,
                "max": 100,
                "step": 1
            }
        },
        "min_notification_interval": {
            "group": "notifications",
            "name": "Tillat nytt varsel etter (s)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 180,
            "range": {
                "min": 0,
                "max": 1800,
                "step": 1
            }
        },
        "autoplay_on_notify": {
            "group": "notifications",
            "name": "Automatisk lydavspilling ved varsel",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        }
    },
    "listen_groups": {
        "browser_notifications": "Nettleservarsler",
        "notify_on": "Varsle om",
        "notifications": "Varsling"
    },
    "audiostream_settings": {
        "encrypted": {
            "group": "streaming",
            "name": "Kryptert",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "gain": {
            "group": "volume",
            "name": "Mikrofonforsterkning (%)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 100,
            "range": {
                "min": 0,
                "max": 100,
                "step": 1
            }
        },
        "volume": {
            "group": "volume",
            "name": "Volumjustering",
            "type": "FLOAT NOT NULL",
            "initial_value": 1.0,
            "range": {
                "min": 0.1,
                "max": 10.0,
                "step": 0.1
            }
        },
        "sampling_rate": {
            "group": "quality",
            "name": "Samplingsrate (Hz)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 8000,
            "range": {
                "min": 8000,
                "max": 48000,
                "step": 100
            }
        },
        "mp3_bitrate": {
            "group": "quality",
            "name": "MP3 bitrate (kbps)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 128,
            "range": {
                "min": 16,
                "max": 320,
                "step": 16
            }
        },
        "min_frequency": {
            "group": "filtration",
            "name": "Laveste frekvens (Hz)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 160,
            "range": {
                "min": 0,
                "max": 2000,
                "step": 20
            }
        },
        "max_frequency": {
            "group": "filtration",
            "name": "Høyeste frekvens (Hz)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 3600,
            "range": {
                "min": 2000,
                "max": 22000,
                "step": 200
            }
        }
    },
    "audiostream_groups": {
        "streaming": "Strømming",
        "volume": "Volum",
        "quality": "Kvalitet",
        "filtration": "Filtrering"
    },
    "videostream_settings": {
        "vertical_resolution": {
            "group": "quality",
            "name": "Vertikal oppløsning",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 720,
            "values": {
                "480p": 480,
                "720p": 720,
                "1080p": 1080
            }
        },
        "encrypted": {
            "group": "video",
            "name": "Kryptert",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "use_variable_framerate": {
            "group": "video",
            "name": "Variabel bildefrekvens",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "framerate": {
            "group": "video",
            "name": "Bildefrekvens (Hz)",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 25,
            "range": {
                "min": 1,
                "max": 35,
                "step": 1
            },
            "disabled_when": {
                "use_variable_framerate": {
                    "operator": "==",
                    "value": "1"
                }
            }
        },
        "rotation": {
            "group": "orientation",
            "name": "Rotasjon",
            "type": "INT UNSIGNED NOT NULL",
            "initial_value": 0,
            "values": {
                "0°": 0,
                "90°": 90,
                "180°": 180,
                "270°": 270
            }
        },
        "flip_horizontally": {
            "group": "orientation",
            "name": "Flipp horisontalt",
            "type": "BOOLEAN NOT NULL",
            "initial_value": false
        },
        "flip_vertically": {
            "group": "orientation",
            "name": "Flipp vertikalt",
            "type": "BOOLEAN NOT NULL",
            "initial_value": false
        },
        "metering": {
            "group": "brightness",
            "name": "Lysmåling",
            "type": "VARCHAR(7) NOT NULL",
            "initial_value": "average",
            "values": {
                "Gjennomsnitt": "average",
                "Punkt": "spot",
                "Matrise": "matrix",
                "Bakbelyst": "backlit"
            }
        },
        "exposure_mode": {
            "group": "brightness",
            "name": "Eksponeringsmodus",
            "type": "VARCHAR(12) NOT NULL",
            "initial_value": "auto",
            "values": {
                "Auto": "auto",
                "Manuell": "off",
                "Natt": "night",
                "Natt (rask)": "nightpreview",
                "Bakbelyst": "backlight",
                "Strobelys": "spotlight",
                "Sport": "sports",
                "Snø": "snow",
                "Strand": "beach",
                "Veldig lang": "verylong",
                "Fast frekvens": "fixedfps",
                "Antivibrasjon": "antishake",
                "Fyrverkeri": "fireworks",
                "Stor lysåpning": "largeaperture",
                "Liten lysåpning": "smallaperture"
            },
            "disabled_when": {
                "use_variable_framerate": {
                    "operator": "==",
                    "value": "0"
                }
            }
        },
        "exposure_value_compensation": {
            "group": "brightness",
            "name": "Eksponeringskompensasjon",
            "type": "INT NOT NULL",
            "initial_value": 0,
            "range": {
                "min": -24,
                "max": 24,
                "step": 0.2
            },
            "disabled_when": {
                "exposure_mode": {
                    "operator": "!=",
                    "value": "off"
                },
                "use_variable_framerate": {
                    "operator": "==",
                    "value": "0"
                }
            }
        },
        "exposure_time": {
            "group": "brightness",
            "name": "Eksponeringstid (ms)",
            "type": "INT UNSIGNED",
            "initial_value": 200,
            "range": {
                "min": 2,
                "max": 2000,
                "step": 2
            },
            "disabled_when": {
                "exposure_mode": {
                    "operator": "!=",
                    "value": "off"
                },
                "use_variable_framerate": {
                    "operator": "==",
                    "value": "0"
                }
            }
        },
        "iso": {
            "group": "brightness",
            "name": "ISO",
            "type": "INT UNSIGNED",
            "initial_value": 800,
            "range": {
                "min": 100,
                "max": 800,
                "step": 10
            },
            "disabled_when": {
                "exposure_mode": {
                    "operator": "!=",
                    "value": "off"
                },
                "use_variable_framerate": {
                    "operator": "==",
                    "value": "0"
                }
            }
        },
        "white_balance_mode": {
            "group": "color",
            "name": "Hvitbalansemodus",
            "type": "VARCHAR(12) NOT NULL",
            "initial_value": "greyworld",
            "values": {
                "Auto": "auto",
                "Manuell": "off",
                "Dagslys": "sun",
                "Overskyet": "cloudy",
                "Skygge": "shade",
                "Kunstlys": "tungsten",
                "Lysstoffrør": "fluorescent",
                "Glødepære": "incandescent",
                "Blits": "flash",
                "Horisont": "horizon",
                "Gråskala": "greyworld"
            }
        },
        "red_gain": {
            "group": "color",
            "name": "Rødt",
            "type": "FLOAT",
            "initial_value": 1.0,
            "range": {
                "min": 0.0,
                "max": 8.0,
                "step": 0.1
            },
            "disabled_when": {
                "white_balance_mode": {
                    "operator": "!=",
                    "value": "off"
                }
            }
        },
        "blue_gain": {
            "group": "color",
            "name": "Blått",
            "type": "FLOAT",
            "initial_value": 1.5,
            "range": {
                "min": 0.0,
                "max": 8.0,
                "step": 0.1
            },
            "disabled_when": {
                "white_balance_mode": {
                    "operator": "!=",
                    "value": "off"
                }
            }
        },
        "capture_audio": {
            "group": "audio",
            "name": "Inkluder lyd",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        },
        "show_time": {
            "group": "info",
            "name": "Vis tidspunkt",
            "type": "BOOLEAN NOT NULL",
            "initial_value": true
        }
    },
    "videostream_groups": {
        "quality": "Kvalitet",
        "video": "Video",
        "orientation": "Orientering",
        "brightness": "Lysstyrke",
        "color": "Farge",
        "audio": "Lyd",
        "info": "Info"
    }
}
